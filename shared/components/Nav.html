<nav>
	<span class="menu-link">Menu</span>
	<a href='/' class='logo'>Svelte</a>

	<div class='sidebar'>
		<ul class='navigation'>
			<li><a class='{{route === "guide" ? "active": ""}}' href='/guide'>Guide</a></li>
			<li><a class='{{route === "repl" ? "active": ""}}' href='/repl'>REPL</a></li>
			<li><a class='{{route === "blog" ? "active": ""}}' href='/blog'>Blog</a></li>
			<li><a href='https://gitter.im/sveltejs/svelte'>Chat</a></li>
			<li><a href='https://github.com/sveltejs/svelte'>GitHub</a></li>
		</ul>

		<!--<ul class='guide-sections'>
			{{#each guideSummary as section}}
				<li>
					<a class='section' href='#{{section.slug}}'>{{section.metadata.title}}</a>
					{{#each section.subsections as subsection}}
						<a class='subsection' href='#{{subsection.slug}}'>{{subsection.title}}</a>
					{{/each}}
				</li>
			{{/each}}
		</ul>-->
	</div>
</nav>

<style>
	nav {
		text-align: right;
		position: relative;
		height: 3em;
		box-sizing: border-box;
		background-color: #333;
		color: #eee;
		border-bottom: 2px solid rgb(170,30,30);
		font-family: 'Rajdhani';
		padding: 0 0.5em 0 0;
		transition: all 180ms cubic-bezier(0.455, 0.03, 0.515, 0.955); /* easeInOutQuad */
	}

	.logo {
		position: absolute;
		top: 0.9rem;
		left: 0.7rem;
		line-height: 1;
		text-transform: lowercase;
		font-size: 1.4em;
		color: white;

		transition: color 180ms cubic-bezier(0.455, 0.03, 0.515, 0.955); /* easeInOutQuad */
		will-change: color;
	}

	nav:after {
		content: '';
		clear: both;
		display: block;
	}

	ul {
		display: inline-block;
		margin: 0;
		padding: 0;
		clear: fix;
	}

	li {
		position: relative;
		display: inline-block;
	}

	.navigation li::after {
		position: absolute;
		top: 1.1rem;
		right: -0.3em;
		content: '/';
		font-size: 0.8em;
		color: #999;
	}

	li:last-child::after {
		content: '';
	}

	.navigation li a {
		display: block;
		/*color: #666;*/
		color: #ccc;
		font-size: 1em;
		padding: 1.1em 0.3em 0.9em 0.3em;
		line-height: 1;
	}

	.navigation .active {
		color: white;
		font-weight: 500;
	}

	.navigation li a:hover {
		color: white;
	}

	.menu-link {
		display: none;
	}

	.sidebar {
		position: fixed;
		width: 14em;
		height: calc(100% - 3em);
		top: 3em;
		max-width: calc(100% - 2em);
		background-color: white;
		text-align: left;
		margin: 0;
		padding: 2em 1em 2em 1.5em;
		z-index: 2;
		overflow-y: auto;
		display: block;
	}

	.sidebar a {
		color: #333;
		transition: color 180ms cubic-bezier(0.455, 0.03, 0.515, 0.955); /* easeInOutQuad */
	}

	.sidebar li {
		list-style: none;
		font-family: Rajdhani;
		margin: 0 0 1.5em 0;
	}

	.sidebar .section {
		display: block;
		font-size: 1.2em;
		font-weight: 700;
		margin-bottom: 0.15em;
	}

	.sidebar .subsection {
		margin-bottom: 0.15em;
		padding: 0;
		display: block;
		color: #727272;
	}

	.sidebar .active-section {
		color: rgb(170,30,30);
	}

	@media (min-width: 360px) {
		.logo {
			top: 0.7rem;
			font-size: 1.8em;
		}

		li a {
			padding: 1.1em 0.5em 0.9em 0.5em;
		}
	}

	@media (min-width: 768px) {
		nav {
			height: 4em;
			padding: 0 1.5em 0 0;
		}

		.navigation {
			position: fixed;
			top: 0.5em;
			right: 1em;
		}

		.sidebar {
			height: calc(100% - 4em);
			top: 4em;
		}

		.logo {
			top: 1rem;
			left: 1.5rem;
			font-size: 2em;
			font-weight: 300;
		}

		li::after {
			top: 1.5rem;
		}

		li a {
			padding: 1.5em 0.5em;
		}
	}

	@media (max-width: 767px) {
		nav {
			user-select: none;
		}

		.sidebar {
			height: calc(100% - 3em);
			width: 63%;
			padding: 2em 1em;
			z-index: 100;
			background: #fff;
			transform: translateX(-100%);
			border-right: 1px solid rgba(0,0,0,0.09);
			transition: transform 180ms cubic-bezier(0.455, 0.03, 0.515, 0.955); /* easeInOutQuad */
		}

		.sidebar a {
			-webkit-tap-highlight-color: transparent;
			-webkit-touch-callout: none;
		}

		.sidebar li {
			margin-bottom: 2em;
		}

		.sidebar .section {
			font-size: 1.2em;
			margin-bottom: 0.3em;
		}

		.sidebar .subsection {
			font-size: 1.1em;
			margin-bottom: 0.3em;
		}

		.sidebar .navigation {
			display: block;
			margin-bottom: 4em;
			-webkit-padding-start: 0;
		}

		.sidebar .navigation li {
			margin-bottom: 1.4em;
		}

		.sidebar .navigation {
			padding: 0;
			display: block;
			color: #727272;
			font-size: 1.3em;
		}

		.sidebar .navigation.active {
			color: #363636;
			font-weight: 700;
		}

		.sidebar-open {
			transform: translateX(0);
		}

		.logo {
			top: 50%;
			left: 50%;
			transform: translate(-50%, -45%);
	
			-webkit-tap-highlight-color: transparent;
			-webkit-touch-callout: none;
		}

		ul {
			display: none;
		}

		.menu-link {
			display: inline;
			position: absolute;
			
			top: 0;
			left: 1rem;
			font-size: 1em;
			font-family: 'Rajdhani';
			line-height: 3.1em;

			color: #ccc;
			cursor: pointer;
			font-weight: 500;

			transition: color 180ms cubic-bezier(0.455, 0.03, 0.515, 0.955); /* easeInOutQuad */
			will-change: color;

			-webkit-tap-highlight-color: transparent;
			-webkit-touch-callout: none;
		}

		nav.hidden {
			background-color: #fff;
			border-bottom-color: rgba(0,0,0,0.09);
		}

		.logo {
			color: rgb(170,30,30);
		}

		.menu-link {
			color: #666;
		}
	}

</style>

<script>
	import guideSummary from './guide-summary.json';

	console.log( `guideSummary`, guideSummary )

	export default {
		data () {
			return {
				guideSummary,
				route: ''
			};
		}
	};
</script>